<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Heatmap - Complaint Visualization</title>

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />

    <!-- Leaflet Heat CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.css"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
        overflow: hidden;
      }

      /* Ensure sidebar styles are not overridden */
      #sidebar {
        display: flex !important;
        flex-direction: column !important;
        background: var(--sidebar-bg, #ffffff) !important;
        color: var(--sidebar-text, #1f2937) !important;
      }

      #sidebar * {
        box-sizing: border-box;
      }

      #map {
        width: 100%;
        height: 100vh;
      }

      /* Control Panel Styles */
      .map-controls-panel {
        position: fixed;
        top: 20px;
        right: 20px;
        width: 320px;
        max-height: calc(100vh - 40px);
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        padding: 20px;
        z-index: 1000;
        overflow-y: auto;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
      }

      .controls-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 2px solid #e5e7eb;
      }

      .controls-header h3 {
        margin: 0;
        font-size: 18px;
        font-weight: 600;
        color: #1f2937;
      }

      .btn-close {
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: #6b7280;
        padding: 0;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 4px;
      }

      .btn-close:hover {
        background: #f3f4f6;
        color: #1f2937;
      }

      .control-group {
        margin-bottom: 16px;
      }

      .control-group label {
        display: block;
        font-size: 13px;
        font-weight: 600;
        color: #374151;
        margin-bottom: 6px;
      }

      .control-group select,
      .control-group input[type="range"] {
        width: 100%;
        padding: 8px;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-size: 13px;
      }

      .control-group input[type="range"] {
        padding: 0;
        height: 6px;
      }

      .slider-container {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .slider-container input[type="range"] {
        flex: 1;
      }

      .slider-value {
        font-size: 12px;
        font-weight: 600;
        color: #667eea;
        min-width: 40px;
      }

      .action-buttons {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .btn-primary,
      .btn-secondary {
        padding: 10px 16px;
        border: none;
        border-radius: 6px;
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
      }

      .btn-primary {
        background: #667eea;
        color: white;
      }

      .btn-primary:hover {
        background: #5568d3;
      }

      .btn-secondary {
        background: #f3f4f6;
        color: #374151;
      }

      .btn-secondary:hover {
        background: #e5e7eb;
      }

      .stats-display {
        padding: 12px;
        background: #f9fafb;
        border-radius: 8px;
        font-size: 12px;
      }

      .stats-display p {
        margin: 4px 0;
        color: #374151;
      }

      .stats-display span {
        font-weight: 600;
        color: #667eea;
      }

      .toggle-controls-btn {
        position: absolute;
        top: 20px; /* Default position when panel is hidden */
        right: 20px;
        width: 48px;
        height: 48px;
        background: white;
        border: none;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        font-size: 20px;
        cursor: pointer;
        z-index: 999; /* Below control panel to avoid animation interference */
        display: flex;
        align-items: center;
        justify-content: center;
        transition: top 0.3s ease;
      }

      .toggle-controls-btn:hover {
        background: #f9fafb;
      }

      .reset-view-btn {
        position: relative !important;
        left: auto !important;
        top: auto !important;
        bottom: auto !important;
        width: 34px !important;
        height: 34px !important;
        background: white !important;
        border: 2px solid rgba(0, 0, 0, 0.2) !important;
        border-radius: 4px !important;
        box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4) !important;
        font-size: 18px;
        cursor: pointer;
        z-index: 1 !important;
        display: flex !important;
        align-items: center;
        justify-content: center;
        transition: background 0.2s ease;
        visibility: visible !important;
        opacity: 1 !important;
        pointer-events: auto !important;
        margin: 0 !important;
        flex-shrink: 0 !important;
      }

      .reset-view-btn:hover {
        background: #f9fafb;
        transform: scale(1.05);
      }

      .map-legend {
        position: absolute;
        bottom: 20px;
        left: 20px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        z-index: 1000;
        font-size: 13px;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        max-width: 240px;
        overflow: hidden;
        transition: max-height 0.3s ease, padding 0.3s ease;
      }

      .map-legend.collapsed {
        max-height: 50px;
        padding: 0;
      }

      .map-legend.expanded {
        max-height: 500px;
        padding: 14px;
      }

      .legend-header {
        font-size: 15px;
        font-weight: 600;
        padding: 14px;
        cursor: pointer;
        user-select: none;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: #1f2937;
        border-bottom: 1px solid #e5e7eb;
        background: #f9fafb;
        transition: background 0.2s ease;
      }

      .legend-header:hover {
        background: #f3f4f6;
      }

      .legend-toggle-icon {
        transition: transform 0.3s ease;
        font-size: 12px;
        color: #6b7280;
        margin-left: 10px;
      }

      .map-legend.expanded .legend-toggle-icon {
        transform: rotate(180deg);
      }

      .legend-content {
        padding: 14px;
        max-height: 400px;
        overflow-y: auto;
      }

      .map-legend.collapsed .legend-content {
        display: none;
      }

      .legend-section {
        margin-bottom: 12px;
      }

      .legend-section:last-child {
        margin-bottom: 0;
      }

      .legend-title {
        font-size: 12px;
        font-weight: 600;
        color: #4b5563;
        margin-bottom: 8px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 6px;
        font-size: 13px;
        color: #374151;
        line-height: 1.4;
      }

      .legend-item:last-child {
        margin-bottom: 0;
      }

      .legend-marker {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        flex-shrink: 0;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      }

      /* Custom controls container - horizontal row */
      .map-custom-controls-row {
        position: absolute !important;
        top: 20px !important;
        left: 20px !important;
        display: flex !important;
        flex-direction: row !important;
        gap: 10px !important;
        z-index: 1000 !important;
        align-items: center !important;
        flex-wrap: nowrap !important;
      }

      /* Adjust Leaflet controls to sit below our custom row */
      .leaflet-top.leaflet-left {
        top: 80px !important;
        left: 20px !important;
      }

      .leaflet-control-zoom {
        margin-top: 0 !important;
      }

      /* Menu toggle button - in horizontal row */
      .menu-toggle-btn {
        width: 44px !important;
        height: 44px !important;
        background: white !important;
        border: none !important;
        border-radius: 8px !important;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15) !important;
        font-size: 20px !important;
        cursor: pointer !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        margin: 0 !important;
        flex-shrink: 0 !important;
        transition: all 0.2s ease !important;
      }

      .menu-toggle-btn:hover {
        background: #f9fafb !important;
      }

      /* Reset View Button */
      .reset-view-btn {
        width: 44px !important;
        height: 44px !important;
        background: white !important;
        border: none !important;
        border-radius: 8px !important;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15) !important;
        font-size: 18px !important;
        cursor: pointer !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        margin: 0 !important;
        flex-shrink: 0 !important;
        transition: all 0.2s ease !important;
      }

      .reset-view-btn:hover {
        background: #f9fafb !important;
      }

      /* Side Toolbar Styles */
      .side-toolbar {
        position: fixed;
        top: 60px;
        right: 15px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        z-index: 1100;
        background: transparent;
      }
      .toolbar-btn {
        width: 44px;
        height: 44px;
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        transition: all 0.2s ease;
        position: relative;
      }
      .toolbar-btn:hover {
        background: #f9fafb;
        transform: translateX(-2px);
      }
      .toolbar-btn.active {
        background: #667eea;
        color: white;
        border-color: #667eea;
      }
      .toolbar-icon {
        font-size: 20px;
      }
      .toolbar-tooltip {
        position: absolute;
        right: 52px;
        background: #1f2937;
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.2s;
        pointer-events: none;
      }
      .toolbar-btn:hover .toolbar-tooltip {
        opacity: 1;
        visibility: visible;
      }

      /* Updated Control Panel Styles */
      .map-controls-panel {
        position: fixed;
        top: 60px;
        right: 70px; /* Positioned to the left of the toolbar */
        width: 320px;
        max-height: calc(100vh - 80px); /* Leave room at bottom */
        display: flex; /* Changed to flex for proper layout */
        flex-direction: column;
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        padding: 20px;
        z-index: 1000;
        overflow-y: hidden; /* Hide main scroll, scroll content instead */
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        transition: opacity 0.3s ease, transform 0.3s ease;
      }

      .map-controls-panel.hidden {
        display: none;
        opacity: 0;
        pointer-events: none;
        transform: translateX(20px);
      }

      .controls-content {
        overflow-y: auto; /* Scroll ONLY the content part */
        flex: 1;
      }

      /* Section Styles */
      .control-section {
        display: none;
        animation: fadeIn 0.3s ease;
      }
      .control-section.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(5px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Filter Styles */
      .filter-subtitle {
        font-weight: 600;
        font-size: 11px;
        color: #9ca3af;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 8px;
        margin-top: 4px;
      }
      .checkbox-label {
        display: flex;
        align-items: flex-start;
        gap: 10px;
        font-size: 13px;
        line-height: 1.4;
        color: #374151;
        margin-bottom: 4px;
        cursor: pointer;
        transition: all 0.15s;
        padding: 6px 8px;
        border-radius: 6px;
      }
      .checkbox-label:hover {
        color: #111827;
        background-color: #e5e7eb;
      }
      .status-checkbox {
        width: 16px;
        height: 16px;
        margin-top: 2px;
        cursor: pointer;
        border-radius: 4px;
        border: 1px solid #d1d5db;
        flex-shrink: 0;
        accent-color: #667eea;
      }
    </style>

    <!-- Sidebar CSS - Load after inline styles to ensure proper cascade -->
    <link rel="stylesheet" href="/css/components/sidebar.css" />
  </head>
  <body>
    <!-- Sidebar -->
    <div id="sidebar" class="collapsible"></div>

    <!-- Custom Controls Row (Menu, Reset View) -->
    <div class="map-custom-controls-row">
      <!-- Menu Toggle Button (for sidebar) -->
      <button id="menu-toggle" class="menu-toggle-btn" title="Toggle Sidebar">
        ‚ò∞
      </button>

      <!-- Reset View Button -->
      <button
        id="reset-view-btn"
        class="reset-view-btn"
        title="Reset View to Default"
      >
        üè†
      </button>

      <!-- Reset Filters Button -->
      <button
        id="reset-filters-btn"
        class="menu-toggle-btn"
        title="Reset All Filters"
        style="margin-left: 0 !important; font-size: 18px !important"
      >
        üîÑ
      </button>
    </div>

    <!-- Toggle Controls Button REMOVED -->

    <!-- Map Legend -->
    <div id="map-legend" class="map-legend collapsed">
      <div class="legend-header" id="legend-toggle">
        <strong>Legend</strong>
        <span class="legend-toggle-icon">‚ñº</span>
      </div>
      <div class="legend-content">
        <div class="legend-section">
          <div class="legend-title">Status</div>
          <div class="legend-item">
            <div
              class="legend-marker"
              style="background-color: #6c757d; border: 2px solid #ffffff"
            ></div>
            <span>New / Pending</span>
          </div>
          <div class="legend-item">
            <div
              class="legend-marker"
              style="background-color: #ffc107; border: 2px solid #ffffff"
            ></div>
            <span>Assigned</span>
          </div>
          <div class="legend-item">
            <div
              class="legend-marker"
              style="background-color: #17a2b8; border: 2px solid #ffffff"
            ></div>
            <span>In Progress</span>
          </div>
          <div class="legend-item">
            <div
              class="legend-marker"
              style="background-color: #fd7e14; border: 2px solid #ffffff"
            ></div>
            <span>Pending Approval</span>
          </div>
          <div class="legend-item">
            <div
              class="legend-marker"
              style="background-color: #28a745; border: 2px solid #ffffff"
            ></div>
            <span>Completed / Confirmed</span>
          </div>
          <div class="legend-item">
            <div
              class="legend-marker"
              style="background-color: #dc3545; border: 2px solid #ffffff"
            ></div>
            <span>Rejected / Disputed</span>
          </div>
        </div>
        <div class="legend-section">
          <div class="legend-title">Priority (Border)</div>
          <div class="legend-item">
            <div
              class="legend-marker"
              style="background-color: #6c757d; border: 3px solid #28a745"
            ></div>
            <span>Low</span>
          </div>
          <div class="legend-item">
            <div
              class="legend-marker"
              style="background-color: #6c757d; border: 3px solid #ffc107"
            ></div>
            <span>Medium</span>
          </div>
          <div class="legend-item">
            <div
              class="legend-marker"
              style="background-color: #6c757d; border: 3px solid #fd7e14"
            ></div>
            <span>High</span>
          </div>
          <div class="legend-item">
            <div
              class="legend-marker"
              style="background-color: #6c757d; border: 3px solid #dc3545"
            ></div>
            <span>Urgent</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Control Panel -->
    <!-- Side Toolbar -->
    <div class="side-toolbar">
      <button class="toolbar-btn active" data-target="display">
        <span class="toolbar-icon">üëÅÔ∏è</span>
        <span class="toolbar-tooltip">Display</span>
      </button>
      <button class="toolbar-btn" data-target="date">
        <span class="toolbar-icon">üìÖ</span>
        <span class="toolbar-tooltip">Date</span>
      </button>
      <button class="toolbar-btn" data-target="status">
        <span class="toolbar-icon">‚òëÔ∏è</span>
        <span class="toolbar-tooltip">Status</span>
      </button>
      <button class="toolbar-btn" data-target="office">
        <span class="toolbar-icon">üè¢</span>
        <span class="toolbar-tooltip">Office</span>
      </button>
      <button class="toolbar-btn" data-target="stats">
        <span class="toolbar-icon">üìä</span>
        <span class="toolbar-tooltip">Stats</span>
      </button>
    </div>

    <!-- Control Panel -->
    <div id="map-controls-panel" class="map-controls-panel hidden">
      <div class="controls-header">
        <h3 id="panel-title">Display Options</h3>
        <button class="btn-close" id="close-controls-btn">√ó</button>
      </div>

      <div class="controls-content">
        <!-- Section: Display Options -->
        <div id="section-display" class="control-section active">
          <div class="control-group">
            <button
              id="toggle-heatmap-btn"
              class="btn-secondary"
              style="width: 100%"
            >
              Toggle Heatmap
            </button>
            <button
              id="toggle-markers-btn"
              class="btn-secondary"
              style="width: 100%; margin-top: 8px"
            >
              Toggle Markers
            </button>
          </div>

          <div class="control-group">
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                cursor: pointer;
              "
            >
              <input
                type="checkbox"
                id="include-resolved"
                checked
                style="width: 18px; height: 18px; cursor: pointer"
              />
              Include Resolved Complaints
            </label>
          </div>

          <div class="control-group">
            <button
              id="fit-bounds-btn"
              class="btn-secondary"
              style="width: 100%"
            >
              Fit to All Markers
            </button>
          </div>
        </div>

        <!-- Section: Date Range -->
        <div id="section-date" class="control-section">
          <div class="control-group">
            <div style="display: flex; flex-direction: column; gap: 8px">
              <input
                type="date"
                id="date-range-start"
                style="
                  padding: 8px;
                  border: 1px solid #ddd;
                  border-radius: 6px;
                  font-size: 13px;
                  width: 100%;
                  box-sizing: border-box;
                "
                placeholder="Start Date"
              />
              <input
                type="date"
                id="date-range-end"
                style="
                  padding: 8px;
                  border: 1px solid #ddd;
                  border-radius: 6px;
                  font-size: 13px;
                  width: 100%;
                  box-sizing: border-box;
                "
                placeholder="End Date"
              />
              <div style="display: flex; gap: 5px">
                <button
                  id="clear-date-range"
                  style="
                    padding: 6px 12px;
                    background: #f0f0f0;
                    border: 1px solid #ddd;
                    border-radius: 6px;
                    font-size: 12px;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    flex: 1;
                  "
                >
                  Clear
                </button>
                <!-- Today button will be inserted here dynamically -->
              </div>
            </div>
          </div>
        </div>

        <!-- Section: Status Filter -->
        <div id="section-status" class="control-section">
          <div class="control-group">
            <div
              id="status-filter-group"
              style="
                max-height: 200px;
                overflow-y: auto;
                padding: 8px;
                border: 1px solid #e0e0e0;
                border-radius: 6px;
                background: #fafafa;
              "
            >
              <!-- Existing Status Checkboxes -->
              <div style="margin-bottom: 12px">
                <div class="filter-subtitle">Standard Status</div>
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="new"
                    id="status-new"
                  />New</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="pending"
                    id="status-pending"
                  />Pending</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="in progress"
                    id="status-in-progress"
                  />In Progress</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="resolved"
                    id="status-resolved"
                  />Resolved</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="completed"
                    id="status-completed"
                  />Completed</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="closed"
                    id="status-closed"
                  />Closed</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="rejected"
                    id="status-rejected"
                  />Rejected</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="cancelled"
                    id="status-cancelled"
                  />Cancelled</label
                >
              </div>
              <div style="margin-bottom: 12px">
                <div class="filter-subtitle">Workflow Status</div>
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="assigned"
                    id="status-assigned"
                  />Assigned</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="in_progress"
                    id="status-in-progress-wf"
                  />In Progress (Workflow)</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="pending_approval"
                    id="status-pending-approval"
                  />Pending Approval</label
                >
              </div>
              <div>
                <div class="filter-subtitle">Confirmation Status</div>
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="waiting_for_responders"
                    id="status-waiting-responders"
                  />Waiting for Responders</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="waiting_for_complainant"
                    id="status-waiting-complainant"
                  />Waiting for Complainant</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="confirmed"
                    id="status-confirmed"
                  />Confirmed</label
                >
                <label class="checkbox-label"
                  ><input
                    type="checkbox"
                    class="status-checkbox"
                    value="disputed"
                    id="status-disputed"
                  />Disputed</label
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Section: Type & Office -->
        <div id="section-office" class="control-section">
          <!-- Category Filter -->
          <div class="control-group">
            <label>Category Filter:</label>
            <div
              id="category-filter-group"
              style="
                max-height: 150px;
                overflow-y: auto;
                padding: 8px;
                border: 1px solid #e0e0e0;
                border-radius: 6px;
                background: #fafafa;
              "
            >
              <div
                id="category-loading"
                style="
                  padding: 16px;
                  text-align: center;
                  color: #6c757d;
                  font-size: 13px;
                "
              >
                Loading categories...
              </div>
            </div>
          </div>

          <!-- Office Filter -->
          <div class="control-group">
            <label>Office Filter:</label>
            <div
              id="department-filter-group"
              style="
                max-height: 150px;
                overflow-y: auto;
                padding: 8px;
                border: 1px solid #e0e0e0;
                border-radius: 6px;
                background: #fafafa;
              "
            >
              <div
                id="department-loading"
                style="
                  padding: 16px;
                  text-align: center;
                  color: #6c757d;
                  font-size: 13px;
                "
              >
                Loading departments...
              </div>
            </div>
          </div>
        </div>

        <!-- Section: Statistics -->
        <div id="section-stats" class="control-section">
          <div class="control-group">
            <div class="stats-display">
              <p>Total Complaints: <span id="total-complaints-stat">0</span></p>
              <p>Visible Markers: <span id="visible-markers-stat">0</span></p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Map Container -->
    <div id="map"></div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>
    <script src="/js/pages/heatmap-leaflet-check.js"></script>
    <script src="/js/lib/supabase.js"></script>
    <script src="../../js/components/map/map-generator.js"></script>
    <script src="../../js/components/map/dbscan.js"></script>
    <script src="../../js/components/map/heatmapVisualization.js"></script>
    <script src="../../js/components/map/heatmapController.js"></script>
    <script type="module" src="../../js/components/sidebar.js"></script>
    <script type="module" src="../../js/auth/authChecker.js"></script>
    <script src="/js/pages/heatmap-init.js"></script>
    <script
      type="module"
      src="../../js/components/map/boundaryGenerator.js"
    ></script>
  </body>
</html>
