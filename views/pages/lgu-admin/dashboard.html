<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Sans+3:ital,wght@0,300..800;1,300..800&display=swap"
      rel="stylesheet"
    />
    <title>Dashboard</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/toast.css" />
    <link rel="stylesheet" href="/css/components/sidebar.css" />
    <link rel="stylesheet" href="/css/app.css" />
    <link rel="stylesheet" href="/css/components/clock.css" />
    <link rel="stylesheet" href="/css/header-redesign.css" />
    <link rel="stylesheet" href="/css/pages/dashboard-common.css?v=1.1" />
    <link rel="stylesheet" href="/css/viewport-fix.css" />
  </head>
  <body>
    <div id="dashboard-clock" class="dashboard-clock" aria-live="polite"></div>
    <div class="app-container">
      <div class="header-container"></div>
      <div id="sidebar" class="collapsible"></div>
      <div id="app" class="collapsible lgu-admin-dashboard">
        <div class="dashboard-header">
          <div class="dashboard-title-group">
            <h1>ğŸ›ï¸ LGU Admin Dashboard</h1>
            <p class="dashboard-subtitle">
              Local government administration and community management
            </p>
          </div>
          <div class="header-quick-actions">
            <a
              class="quick-action-btn quick-action-btn--sm"
              href="/lgu-admin/publish?type=notices"
            >
              <div class="quick-action-icon">ğŸ“¢</div>
              <div class="quick-action-text">Notice</div>
            </a>
            <a
              class="quick-action-btn quick-action-btn--sm"
              href="/lgu-admin/publish?type=events"
            >
              <div class="quick-action-icon">ğŸ“…</div>
              <div class="quick-action-text">Event</div>
            </a>
            <a
              class="quick-action-btn quick-action-btn--sm"
              href="/lgu-admin/publish?type=news"
            >
              <div class="quick-action-icon">ğŸ“°</div>
              <div class="quick-action-text">News</div>
            </a>
            <a
              class="quick-action-btn quick-action-btn--sm"
              href="/assignments"
            >
              <div class="quick-action-icon">ğŸ“‹</div>
              <div class="quick-action-text">Assignments</div>
            </a>
            <a class="quick-action-btn quick-action-btn--sm" href="/heatmap">
              <div class="quick-action-icon">ğŸ—ºï¸</div>
              <div class="quick-action-text">Heatmap</div>
            </a>
            <a class="quick-action-btn quick-action-btn--sm" href="/myProfile">
              <div class="quick-action-icon">ğŸ‘¤</div>
              <div class="quick-action-text">Profile</div>
            </a>
          </div>
        </div>

        <!-- Main Content Grid -->
        <div class="dashboard-grid">
          <!-- System-wide Complaint Statistics -->
          <div class="stats-grid mb-6" id="admin-stats-grid">
            <div class="stat-card">
              <div class="stat-icon">ğŸ“Š</div>
              <div class="stat-content">
                <div class="stat-label">Total Complaints</div>
                <div class="stat-value" id="admin-stat-total">-</div>
              </div>
            </div>
            <div class="stat-card warning">
              <div class="stat-icon">â³</div>
              <div class="stat-content">
                <div class="stat-label">Pending / In Progress</div>
                <div class="stat-value" id="admin-stat-active">-</div>
              </div>
            </div>
            <div class="stat-card success">
              <div class="stat-icon">âœ…</div>
              <div class="stat-content">
                <div class="stat-label">Resolved</div>
                <div class="stat-value" id="admin-stat-resolved">-</div>
              </div>
            </div>
          </div>

          <!-- Department Performance Overview -->
          <div class="dashboard-section mb-6">
            <div class="section-header">
              <h2 class="section-title">ğŸ¢ Department Performance Overview</h2>
              <button
                class="btn btn-secondary btn-sm"
                onclick="refreshDeptPerformance()"
              >
                Refresh
              </button>
            </div>
            <div id="dept-performance-container" class="content-container">
              <div class="loading">
                <div class="loader-ring"></div>
                <p>Loading performance metrics...</p>
              </div>
            </div>
          </div>

          <!-- Recent Assignments -->
          <div class="dashboard-section">
            <div class="section-header">
              <h2 class="section-title">ğŸ“‹ Recent Assignments</h2>
              <a href="/lgu-admin/assignments" class="btn btn-primary"
                >View All</a
              >
            </div>
            <div id="assignments-container" class="content-container">
              <div class="loading">
                <div class="loader-ring"></div>
                <p>Loading assignments...</p>
              </div>
            </div>
          </div>

          <!-- Recent Activity -->
          <div class="dashboard-section">
            <div class="section-header">
              <h2 class="section-title">ğŸ•’ Recent Activity</h2>
              <button id="refresh-activity-btn" class="btn btn-secondary">
                Refresh
              </button>
            </div>
            <div id="activity-container" class="content-container">
              <div class="loading">
                <div class="loader-ring"></div>
                <p>Loading recent activity...</p>
              </div>
            </div>
          </div>

          <!-- Alerts & Notifications -->
          <div class="dashboard-section">
            <div class="section-header">
              <h2 class="section-title">ğŸš¨ Alerts & Notifications</h2>
              <button id="mark-all-read-btn" class="btn btn-secondary">
                Mark All Read
              </button>
            </div>
            <div id="alerts-container" class="content-container">
              <div class="loading">
                <div class="loader-ring"></div>
                <p>Loading alerts and notifications...</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="toast-container" class="toast-container"></div>
    <script src="/js/lib/supabase.js"></script>
    <script type="module" src="../../js/components/toast.js"></script>
    <script type="module" src="../../js/components/header.js"></script>
    <script type="module" src="../../js/components/sidebar.js"></script>
    <script type="module" src="../../js/auth/authChecker.js"></script>
    <script type="module" src="../../js/auth/roleToggle.js"></script>
    <script type="module" src="../../js/components/clock.js"></script>
    <script type="module" src="../../js/pages/lgu-admin/dashboard.js"></script>
  </body>
</html>
