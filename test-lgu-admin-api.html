<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test LGU Admin API</title>
</head>
<body>
    <h1>LGU Admin API Test</h1>
    <div id="results"></div>
    
    <script>
        async function testAPI() {
            const resultsDiv = document.getElementById('results');
            
            try {
                // Test assignments API
                console.log('Testing assignments API...');
                const assignmentsResponse = await fetch('/api/lgu-admin/department-assignments', {
                    headers: {
                        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6IjR1eHpyek44RU9MTlpLd1YiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2l4aWJrY3dxYWx4ZmpncnVpenZhLnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI0MGRlMjdlZi1lYmYxLTQ2ZmEtOTQ3ZS0zZmM4ZWU3ZWFhNWMiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYxNDU2MTI2LCJpYXQiOjE3NjE0NDE3MjYsImVtYWlsIjoicG5wYWRtaW5AZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJiYXNlX3JvbGUiOiJsZ3UtYWRtaW4iLCJkcHQiOiJQTlAiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibW9iaWxlX251bWJlciI6Iis2MzkxNzEyMzQ1NzUiLCJuYW1lIjoiUE5QIEFkbWluIiwibm9ybWFsaXplZF9yb2xlIjoibGd1LWFkbWluIiwicm9sZSI6ImxndS1hZG1pbiIsInN0YXR1cyI6ImFjdGl2ZSJ9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYxNDQxNzI2fV0sInNlc3Npb25faWQiOiJkM2ZmMTRkNi0yZTMwLTQ0YWYtODZjNi1kMmM0ZGM4MDUzZGMiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.XcMLmfDHxqvOdrB2-j3djUcnqSYQ_6tpNxd3kuFw4Pg'
                    }
                });
                
                const assignmentsData = await assignmentsResponse.json();
                console.log('Assignments response:', assignmentsData);
                
                // Test officers API
                console.log('Testing officers API...');
                const officersResponse = await fetch('/api/lgu-admin/department-officers', {
                    headers: {
                        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6IjR1eHpyek44RU9MTlpLd1YiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2l4aWJrY3dxYWx4ZmpncnVpenZhLnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI0MGRlMjdlZi1lYmYxLTQ2ZmEtOTQ3ZS0zZmM4ZWU3ZWFhNWMiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYxNDU2MTI2LCJpYXQiOjE3NjE0NDE3MjYsImVtYWlsIjoicG5wYWRtaW5AZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJiYXNlX3JvbGUiOiJsZ3UtYWRtaW4iLCJkcHQiOiJQTlAiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibW9iaWxlX251bWJlciI6Iis2MzkxNzEyMzQ1NzUiLCJuYW1lIjoiUE5QIEFkbWluIiwibm9ybWFsaXplZF9yb2xlIjoibGd1LWFkbWluIiwicm9sZSI6ImxndS1hZG1pbiIsInN0YXR1cyI6ImFjdGl2ZSJ9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYxNDQxNzI2fV0sInNlc3Npb25faWQiOiJkM2ZmMTRkNi0yZTMwLTQ0YWYtODZjNi1kMmM0ZGM4MDUzZGMiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.XcMLmfDHxqvOdrB2-j3djUcnqSYQ_6tpNxd3kuFw4Pg'
                    }
                });
                
                const officersData = await officersResponse.json();
                console.log('Officers response:', officersData);
                
                // Display results
                resultsDiv.innerHTML = `
                    <h2>Assignments API Test</h2>
                    <p><strong>Status:</strong> ${assignmentsResponse.status}</p>
                    <p><strong>Success:</strong> ${assignmentsData.success}</p>
                    <p><strong>Data Count:</strong> ${assignmentsData.data?.length || 0}</p>
                    <pre>${JSON.stringify(assignmentsData, null, 2)}</pre>
                    
                    <h2>Officers API Test</h2>
                    <p><strong>Status:</strong> ${officersResponse.status}</p>
                    <p><strong>Success:</strong> ${officersData.success}</p>
                    <p><strong>Data Count:</strong> ${officersData.data?.length || 0}</p>
                    <pre>${JSON.stringify(officersData, null, 2)}</pre>
                `;
                
            } catch (error) {
                console.error('API test error:', error);
                resultsDiv.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
            }
        }
        
        // Run test when page loads
        document.addEventListener('DOMContentLoaded', testAPI);
    </script>
</body>
</html>
